/* light mode */
<% light = <<-CSS
  /* main monochrome */
  --palette-bg: 254, 254, 254;
  --palette-fg: 51, 51, 51;
  --palette-light: 255, 255, 255;
  --palette-shadow: 0, 0, 0;

  /* blends of foreground color over the background */
  --opacity-contrast-15: 100%;
  --opacity-contrast-13: 94%;
  --opacity-contrast-10: 84%;
  --opacity-contrast-7-5: 75%;
  --opacity-contrast-6: 67%;
  --opacity-contrast-5: 63%;
  --opacity-contrast-4-5: 59%; /* WCAG AA minimum 4.5:1 text contrast */

  --opacity-gradient-lit: 0%;
  --opacity-gradient-shadowed: 13%;

  /* colored backgrounds and foregrounds */
  --palette-bg-accent: 172, 19, 13; /* behind light text */
  --palette-bg-target: 255, 252, 215;

  --palette-fg-link: 28, 89, 209;
  --palette-fg-link-visited: 95, 134, 212;
  --palette-fg-accent: 172, 19, 13; /* red as in lobste.rs */
  --palette-fg-negative: 139, 0, 0; /* red as in warning */
  --palette-fg-affirmative: 0, 128, 0;
  --palette-fg-author: 96, 129, 189;
  --palette-fg-shape: 187, 187, 187;

  /* explicit view colors */
  --color-box-bg: #fff;
  --color-box-bg-shaded: #eee;
  --color-box-border: #ccc;
  --color-box-border-focus: #808080;

  --color-button-bg: #fafafa;
  --color-button-bg-shaded: #e6e6e6;

  --color-table-header-bg: #eaeaea;
  --color-table-header-border: #cacaca;
  --color-table-row-bg-even: #f8f8f8;
  --color-table-row-bg-odd: #f5f5f5;
  --color-table-row-border: #eaeaea;

  --color-tag-bg: #fffcd7;
  --color-tag-border: #d5d458;
  --color-tag-media-bg: #ddebf9;
  --color-tag-media-border: #b2ccf0;
  --color-tag-meta-bg: #e0e0e0;
  --color-tag-meta-border: #c8c8c8;

  --color-hat-crown-fill: #ddd;
  --color-hat-crown-stroke: #eee;
  --color-hat-brim-stroke: #bbb;

  --color-flash-bg-error: #fdcfcc;
  --color-flash-bg-success: #dff0d8;
  --color-flash-bg-notice: #cce6ee;
CSS
%>

/* dark mode */
<% dark = <<-CSS
    /* main monochrome */
    --palette-bg: 12, 12, 12;
    --palette-fg: 225, 225, 225;
    --palette-light: 255, 255, 255;
    --palette-shadow: 0, 0, 0;

    /* blends of foreground color over the background */
    --opacity-contrast-15: 87%; /* Contrast capped at 10:1 for dark mode */
    --opacity-contrast-13: 87%; /* Contrast capped at 10:1 for dark mode */
    --opacity-contrast-10: 87%;
    --opacity-contrast-7-5: 77%;
    --opacity-contrast-6: 69%;
    --opacity-contrast-5: 64%;
    --opacity-contrast-4-5: 61%; /* WCAG AA minimum 4.5:1 text contrast */

    --opacity-gradient-lit: 13%;
    --opacity-gradient-shadowed: 3%;

    /* colored backgrounds and foregrounds */
    --palette-bg-accent: 253, 78, 72; /* behind dark text */
    --palette-bg-target: 27, 24, 11;

    --palette-fg-link: 138, 177, 255;
    --palette-fg-link-visited: 79, 138, 255;
    --palette-fg-accent: 207, 54, 49; /* red as in lobste.rs */
    --palette-fg-negative: 190, 45, 45; /* red as in warning */
    --palette-fg-affirmative: 42, 180, 42;
    --palette-fg-author: 80, 112, 177;
    --palette-fg-shape: 80, 80, 80;

    /* explicit view colors */
    --color-box-bg: #141414;
    --color-box-bg-shaded: #202020;
    --color-box-border: #303030;
    --color-box-border-focus: #808080;

    --color-button-bg: #181818;
    --color-button-bg-shaded: #242424;

    --color-table-header-bg: #262626;
    --color-table-header-border: #404040;
    --color-table-row-bg-even: #181818;
    --color-table-row-bg-odd: #1b1b1b;
    --color-table-row-border: #262626;

    --color-tag-bg: #3b320d;
    --color-tag-border: #665501;
    --color-tag-media-bg: #15293d;
    --color-tag-media-border: #214669;
    --color-tag-meta-bg: #2c2c2c;
    --color-tag-meta-border: #484848;

    --color-hat-crown-fill: #3b3b3b;
    --color-hat-crown-stroke: #202020;
    --color-hat-brim-stroke: #2a2a2a;

    --color-flash-bg-error: #451714;
    --color-flash-bg-success: #273820;
    --color-flash-bg-notice: #142e36;
CSS
%>

:root {
  <%= light %>
}

@media (prefers-color-scheme: dark) {
  html.color-scheme-system {
    <%= dark %>
  }
}
html.color-scheme-dark {
  <%= dark %>
}
